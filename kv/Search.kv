#:import MDToolbar kivymd.uix.toolbar.MDToolbar
#:import utils kivy.utils

<Search>
    name: "search"
    BoxLayout:
        pos_hint: {"center_x": 0.5, "center_y": 0.5}
        height:500
        width:300
        orientation: "vertical"
        # size_hint: self.width,self.height
        padding: 40, 0, 40, 170
        spacing: 50
        BoxLayout:
            orientation: "vertical"
            size_hint_y: None
            height: 200
            padding: 0,0,0,0
            spacing: 60
            halign: "center"
            BoxLayout:
                orientation: "vertical"
                # padding: 40,0,40,0
                MDLabel:
                    text: "Tanggal Panen (yyyy-mm-dd)"
                # GridLayout:
                MDTextField:
                    id: date_picker_label
                    # required: True
                    helper_text: "Double tap to open calender"
                    helper_text_mode: "persistent"
                    #on_double_tap: app.show_date_picker2()
                    on_double_tap: app.show_date_mdm("search")
            BoxLayout:
                orientation: "vertical"
                # padding: 40,0,40,0
                MDLabel:
                    text: "Blok"
                MDTextField:
                    id: search_blok
            BoxLayout:
                orientation: "vertical"
                BoxLayout:
                    orientation: "vertical"
                    padding: 0,-110,0,0
                    MDLabel:
                        text: "Varietas"
                BoxLayout:
                    spacing: 30

                    MDTextField:
                        id: search_varietas
                        disabled: True
                    MDIconButton:
                        id: pilihkopi
                        icon: "arrow-down-drop-circle"
                        md_bg_color: app.theme_cls.primary_color
                        elevation_normal: 0
                        on_release: MDDropdownMenu(items=app.varietas_labels_search, width_mult=3).open(self)
                        readonly : True
            BoxLayout:
                orientation: "vertical"
                BoxLayout:
                    orientation: "vertical"
                    padding: 0,-110,0,0
                    MDLabel:
                        text: "Proses"
                BoxLayout:
                    spacing: 30
                    height: 10
                    width: 70

                    MDTextField:
                        id: search_proses
                        disabled: True
                    MDIconButton:
                        id: pilihproses
                        icon: "arrow-down-drop-circle"
                        md_bg_color: app.theme_cls.primary_color
                        elevation_normal: 0
                        on_release: MDDropdownMenu(items=app.proses_labels_search, width_mult=3).open(self)
                        readonly : True

        MDFillRoundFlatButton:
            text: "Cari"
            # padding: 0,50,0,0
            pos_hint: {"center_x": 0.8, "center_y": 0.1}
            font_size: 20
            halign: "center"
            specific_text_color: 1, 1, 1, 1
            on_release:
                app.dataPanen()
                #app.root.ids.screen_manager.current = "hasilpanen"
                #root.manager.transition.direction = "left"
                #app.root.ids.toolbar.title = "Dashboard"