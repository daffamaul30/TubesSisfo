#:import MDToolbar kivymd.uix.toolbar.MDToolbar
#:import utils kivy.utils
#:import MDDropdownMenu kivymd.uix.menu.MDDropdownMenu
#:import MDRaisedButton kivymd.uix.button.MDRaisedButton
# :include kv/Main.kv
<MDMenuItem>:
    on_release: app.change_variable_varietas(self.text)

<InputPanen>
    name: "inputpanen"
    BoxLayout:
        pos_hint: {"center_x": 0.5, "center_y": 0.5}
        height:500
        width:300
        orientation: "vertical"
        # size_hint: self.width,self.height
        padding: 40, 0, 40, 50
        spacing: 50
        BoxLayout:
            orientation: "vertical"
            size_hint_y: None
            height: 200
            padding: 0,0,0,0
            spacing: 60
            halign: "center"
            BoxLayout:
                orientation: "vertical"
                MDLabel:
                    text: "Tanggal (yyyy-mm-dd)"
                MDTextField:
                    id: date_picker_label
                    # required: True
                    helper_text: "Double tap to open calender"
                    helper_text_mode: "persistent"
                    on_double_tap: app.show_date_mdm("inputpanen")
            BoxLayout:
                orientation: "vertical"
                BoxLayout:
                    orientation: "vertical"
                    padding: 0,-110,0,0
                    MDLabel:
                        text: "Varietas"
                BoxLayout:
                    spacing: 30

                    MDTextField:
                        id: varietas
                        disabled: True
                    MDIconButton:
                        id: pilihkopi
                        icon: "arrow-down-drop-circle"
                        md_bg_color: app.theme_cls.primary_color
                        elevation_normal: 0
                        on_release: MDDropdownMenu(items=app.varietas_labels, width_mult=3).open(self)
                        readonly : True
            BoxLayout:
                orientation: "vertical"
                MDLabel:
                    text: "Blok"
                MDTextField:
                    id: blok
            BoxLayout:
                orientation: "vertical"
                MDLabel:
                    text: "Berat (Kg)"
                MDTextField:
                    id: berat
                    input_filter:"float"
            BoxLayout:
                orientation: "vertical"
                MDLabel:
                    text: "Biaya"
                MDTextField:
                    id: biayacherry
                    input_filter:"float"
            BoxLayout:
                orientation: "vertical"
                BoxLayout:
                    orientation: "vertical"
                    padding: 0,-110,0,0
                    MDLabel:
                        text: "Proses"
                BoxLayout:
                    spacing: 30
                    height: 10
                    width: 70

                    MDTextField:
                        id: proses
                        disabled: True
                    MDIconButton:
                        id: pilihproses
                        icon: "arrow-down-drop-circle"
                        md_bg_color: app.theme_cls.primary_color
                        elevation_normal: 0
                        on_release: MDDropdownMenu(items=app.proses_labels, width_mult=3).open(self)
                        readonly : True
            # BoxLayout:
            #     orientation: "vertical"
            #     MDLabel:
            #         text: "Waktu (hh:mm:ss)"
            #     MDTextField:
            #         id: time_picker_label
            #         # required: True
            #         helper_text: "Double tap to open clock"
            #         helper_text_mode: "persistent"
            #         on_double_tap: app.show_time_picker()

        MDRaisedButton:
            text: "Submit"
            pos_hint: {"center_x": 0.8, "center_y": 0.1}
            font_size: 20
            halign: "center"
            specific_text_color: 1, 1, 1, 1
            on_release:
                root.pop()
                app.panen()
                # app.root.ids.screen_manager.current = "hasilpanen"
                # root.manager.transition.direction = "left"